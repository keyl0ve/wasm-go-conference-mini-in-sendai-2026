<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <title>Panic デモ（悪い例）</title>
    <script src="wasm_exec.js"></script>
    <script>
      const go = new Go();
      WebAssembly.instantiateStreaming(
        fetch("main.wasm"),
        go.importObject,
      ).then((result) => {
        go.run(result.instance);
      });
    </script>
  </head>
  <body>
    <h1>Panic デモ（悪い例）</h1>
    <p>recover なし。panic が発生すると WASM 全体が止まります。</p>

    <button onclick="triggerPanic()">Trigger Panic</button>
    <button onclick="ping()">Ping（WASM が生きているか確認）</button>

    <p id="output" style="margin-top: 1em; min-height: 1.5em">
      ここに結果が表示されます。
    </p>

    <p style="margin-top: 2em; font-size: 0.9em; color: #666">
      手順: 「Trigger Panic」を押す → コンソールにスタックトレースが出る →
      その後「Ping」を押しても反応しない（WASM
      が停止している）。ページをリロードするまで復帰しない。
    </p>
  </body>
</html>
